
{% extends 'base.html' %}
{% block content %}
<h2>🎯 Goals</h2>
<form method="POST" class="mb-4">
  <div class="row g-2">
    <div class="col-md-3"><input type="text" name="goal_type" placeholder="Goal Type" class="form-control" required></div>
    <div class="col-md-3"><input type="text" name="target" placeholder="Target" class="form-control" required></div>
    <div class="col-md-2"><input type="number" step="0.1" name="target_value" placeholder="Value" class="form-control" required></div>
    <div class="col-md-2"><input type="text" name="unit" placeholder="Unit" class="form-control"></div>
    <div class="col-md-2"><input type="date" name="deadline" class="form-control"></div>
  </div>
  <button class="btn btn-success mt-2">Set Goal</button>
</form>

<h4>📜 Your Goals</h4>
<table class="table table-striped">
  <tr><th>Type</th><th>Target</th><th>Progress</th><th>Deadline</th><th>Status</th><th>Action</th></tr>
  {% for goal in goals %}
    <tr>
      <td>{{ goal.type }}</td>
      <td>{{ goal.target_value }} {{ goal.unit }}</td>
      <td>{{ goal.progress }}</td>
      <td>{{ goal.deadline.strftime('%Y-%m-%d') }}</td>
      <td>{{ goal.status }}</td>
      <td>
        <form action="{{ url_for('delete_goal', goal_id=goal.id) }}" method="POST" style="display:inline;">
          <button type="submit" class="btn btn-outline-danger btn-sm delete-btn">🗑️ Delete</button>
        </form>
      </td>
    </tr>
  {% endfor %}
</table>

<style>
  .delete-btn {
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  .delete-btn:hover {
    background-color: #dc3545;
    color: white;
  }
</style>

{% endblock %}
